
# SAST.Gen

## Project Overview

SAST.Gen automates the process of creating security-focused documentation and rules for various programming languages. It takes a set of vulnerabilities, generates variations of these vulnerabilities, and then creates security rules based on those variations. The application includes several Python scripts designed to work together to produce the final output in the form of Markdown and YAML files.

## Components

1. **file_summarizer_assistant.py**
   - **Description:** This module provides a class that, given a question and a file, returns an answer. It includes some default settings that need to be adjusted to use relative paths.
   - **Usage:** This script is utilized to process files and extract relevant information based on specific queries. Ensure that the file paths are correctly set to relative paths before using the script.

2. **VulnCWE_Context.02.test.py**
   - **Description:** This script generates Markdown files containing security context and OWASP vulnerabilities for a set of languages and security bugs. Each output file is stored in the respective language subfolder within the `VulnsContext` directory.
   - **Usage:** Run this script to create vulnerability context documentation. The output will be automatically saved in the correct subfolder based on the language.

3. **sast_gen.test.02.py**
   - **Description:** This script reads the vulnerability context from the Markdown files generated by `VulnCWE_Context.02.test.py` and creates Semgrep rules based on the Semgrep custom rule documentation. The rules are saved as Markdown files in the respective language subfolder within the `SAST` directory.
   - **Usage:** Use this script to generate security rules for static analysis based on the vulnerability context. Ensure that the output is saved in the correct language subfolder.

4. **md2yaml.py**
   - **Description:** This script extracts YAML rules from the Markdown files generated by `sast_gen.test.02.py`. The YAML rules are saved in the respective language subfolder within the `SemgrepYAML` directory.
   - **Usage:** Run this script to convert Markdown-based security rules into YAML format for use with Semgrep. The output files are saved in the appropriate subfolder based on the language.

## Usage Instructions

1. **Setup and Configuration:**
   - Clone the repository to your local machine.
   - Ensure all file paths in the scripts are set to relative paths.
   - Install any required dependencies using `pip install -r requirements.txt`.

2. **Generating Vulnerability Context:**
   - Run `VulnCWE_Context.02.test.py` to generate Markdown files for each vulnerability context. The output will be saved in the `VulnsContext` subfolders.

3. **Generating Security Rules:**
   - After generating the vulnerability context, run `sast_gen.test.02.py` to create security rules based on the context. The rules will be saved in the `SAST` subfolders.

4. **Converting to YAML:**
   - Run `md2yaml.py` to extract YAML rules from the Markdown files. The YAML files will be saved in the `SemgrepYAML` subfolders.

## Security Best Practices

- **Relative Paths:** Ensure that all file paths are set to relative paths to avoid hardcoded paths that may expose sensitive information.
- **Input Validation:** Always validate and sanitize inputs to the scripts to prevent injection attacks and other security vulnerabilities.
- **Environment Configuration:** Store any sensitive data, such as API keys or configuration settings, in environment variables rather than hardcoding them into scripts.
- **Documentation:** Keep documentation up-to-date with changes to the codebase, especially concerning security rules and vulnerability contexts.
- **Code Reviews:** Regularly review code changes, especially those related to security rules and vulnerability handling, to ensure compliance with security best practices.

## Contributing

- **Pull Requests:** Contributions are welcome! Please create a pull request with a clear description of the changes.
- **Issues:** If you encounter any issues, please report them on the GitHub issue tracker.

## License

This project is licensed under the Apache License 2.0. See the [LICENSE](LICENSE) file for more details.
